# SRT Parser - ìë§‰ ë³‘í•© ë„êµ¬

SRT ìë§‰ íŒŒì¼ì˜ ì¸ì ‘í•œ ë¸”ë¡ë“¤ì„ ì§€ëŠ¥ì ìœ¼ë¡œ ë³‘í•©í•˜ì—¬ ë” ì½ê¸° ì‰¬ìš´ ìë§‰ì„ ë§Œë“œëŠ” Python ë„êµ¬ì…ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

- **ì¸ì ‘ ë¸”ë¡ ë³‘í•©**: ì„¤ì •ëœ ì„ê³„ê°’(ê¸°ë³¸ 1ì´ˆ) ì´í•˜ì˜ ê°„ê²©ì„ ê°€ì§„ ìë§‰ ë¸”ë¡ë“¤ì„ ìë™ìœ¼ë¡œ ë³‘í•©
- **í•œ ê¸€ì ìë§‰ ì œê±°**: í•œ ê¸€ìë§Œ ìˆëŠ” ë¶ˆí•„ìš”í•œ ìë§‰ ë¸”ë¡ì„ ìë™ìœ¼ë¡œ ì‚­ì œ
- **ì‹œê°„ ì œí•œ**: ë³‘í•©ëœ ë¸”ë¡ì´ 2ë¶„ì„ ë„˜ì§€ ì•Šë„ë¡ ì œí•œí•˜ì—¬ ì ì ˆí•œ ê¸¸ì´ ìœ ì§€
- **ìë™ íŒŒì¼ëª… ìƒì„±**: ì…ë ¥ íŒŒì¼ëª…ì— `_stage` ì ‘ë¯¸ì‚¬ë¥¼ ë¶™ì—¬ `output/` í´ë”ì— ìë™ ì €ì¥
- **ê°€ìƒí™˜ê²½ ì§€ì›**: Python ê°€ìƒí™˜ê²½ì„ í†µí•œ ê¹”ë”í•œ ì˜ì¡´ì„± ê´€ë¦¬

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. í”„ë¡œì íŠ¸ ì„¤ì •
```bash
# ì €ì¥ì†Œ í´ë¡  í›„ ì´ˆê¸° ì„¤ì •
./setup.sh
```

### 2. ìë§‰ íŒŒì¼ ë³‘í•©
```bash
# ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ë³‘í•© (1ì´ˆ ì„ê³„ê°’, 2ë¶„ ì œí•œ)
./run_merge.sh input.srt

# ì‚¬ìš©ì ì •ì˜ ì„ê³„ê°’ìœ¼ë¡œ ë³‘í•©
./run_merge.sh input.srt 2.0
```

### 3. ê²°ê³¼ í™•ì¸
```
input.srt â†’ output/input_stage.srt
```

## ğŸ“‹ ë³‘í•© ê·œì¹™

### ê¸°ë³¸ ê·œì¹™
- **ê°„ê²© ê³„ì‚°**: `ë‹¤ìŒ_ë¸”ë¡_ì‹œì‘ì‹œê°„ - í˜„ì¬_ë¸”ë¡_ì¢…ë£Œì‹œê°„`
- **ë³‘í•© ì¡°ê±´**: `0 â‰¤ ê°„ê²© â‰¤ ì„ê³„ê°’(ì´ˆ)`
- **ê²¹ì¹¨ ì œì™¸**: ìŒìˆ˜ ê°„ê²©(ê²¹ì¹˜ëŠ” ë¸”ë¡)ì€ ë³‘í•©í•˜ì§€ ì•ŠìŒ

### ì¶”ê°€ ì œí•œì‚¬í•­
- **í•œ ê¸€ì ì œê±°**: ì‹¤ì œ ê¸€ì ìˆ˜ê°€ 1ê°œì¸ ë¸”ë¡ì€ ìë™ ì‚­ì œ
- **ì‹œê°„ ì œí•œ**: ë³‘í•©ëœ ë¸”ë¡ì˜ ì´ ì‹œê°„ì´ 2ë¶„ì„ ë„˜ìœ¼ë©´ ë³‘í•© ì¤‘ë‹¨
- **ë²ˆí˜¸ ìœ ì§€**: ì²« ë²ˆì§¸ ë¸”ë¡ì˜ ë²ˆí˜¸ë¥¼ ìœ ì§€í•˜ê³  ë³‘í•©ëœ ë¸”ë¡ë“¤ì€ ì‚­ì œ

## ğŸ› ï¸ ì‚¬ìš©ë²•

### ê°„í¸ ì‹¤í–‰
```bash
# ê¸°ë³¸ê°’ ì‚¬ìš© (1ì´ˆ ì„ê³„ê°’)
./run_merge.sh input.srt

# ë‹¤ë¥¸ ì„ê³„ê°’ ì‚¬ìš©
./run_merge.sh input.srt 1.5

# ì ˆëŒ€ ê²½ë¡œ ì‚¬ìš©
./run_merge.sh /path/to/your/file.srt 2.0

# ë‹¤ë¥¸ ë””ë ‰í† ë¦¬ì—ì„œ ì‹¤í–‰ (ìƒëŒ€ ê²½ë¡œ)
cd /Users/mago/Downloads
/path/to/srt_parser/run_merge.sh subfolder/input.srt
```

### ìˆ˜ë™ ì‹¤í–‰
```bash
# ê°€ìƒí™˜ê²½ í™œì„±í™”
source venv/bin/activate

# ê¸°ë³¸ ì˜µì…˜
python merge_srt.py input.srt output.srt

# ëª¨ë“  ì˜µì…˜ ì‚¬ìš©
python merge_srt.py input.srt output.srt \
  --threshold 1.5 \
  --max-duration 180.0 \
  --keep-single-char
```

## âš™ï¸ ì˜µì…˜ ì„¤ëª…

| ì˜µì…˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|------|--------|------|
| `--threshold` | `1.0` | ë³‘í•© ì„ê³„ê°’(ì´ˆ) |
| `--max-duration` | `120.0` | ë³‘í•©ëœ ë¸”ë¡ì˜ ìµœëŒ€ ì‹œê°„(ì´ˆ) |
| `--keep-single-char` | `False` | í•œ ê¸€ì ìë§‰ ë¸”ë¡ ìœ ì§€ |

## ğŸ“Š íš¨ê³¼ ì˜ˆì‹œ

### ë³‘í•© ì „
```srt
1
00:00:10,000 --> 00:00:11,500
ì•ˆë…•í•˜ì„¸ìš”

2
00:00:12,000 --> 00:00:14,000
ë°˜ê°‘ìŠµë‹ˆë‹¤
```

### ë³‘í•© í›„ (1ì´ˆ ì„ê³„ê°’)
```srt
1
00:00:10,000 --> 00:00:14,000
ì•ˆë…•í•˜ì„¸ìš”
ë°˜ê°‘ìŠµë‹ˆë‹¤
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
srt_parser/
â”œâ”€â”€ merge_srt.py          # ë©”ì¸ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ run_merge.sh          # ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ setup.sh              # ì´ˆê¸° ì„¤ì • ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ requirements.txt      # Python ì˜ì¡´ì„±
â”œâ”€â”€ .gitignore           # Git ë¬´ì‹œ íŒŒì¼
â”œâ”€â”€ README.md            # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”œâ”€â”€ venv/                # Python ê°€ìƒí™˜ê²½
â””â”€â”€ output/              # ê²°ê³¼ íŒŒì¼ ì €ì¥ í´ë”
    â””â”€â”€ *_stage.srt      # ë³‘í•©ëœ ìë§‰ íŒŒì¼ë“¤
```

## ğŸ”§ ê°œë°œ í™˜ê²½

- **Python**: 3.7+
- **ì˜ì¡´ì„±**: í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œ ì‚¬ìš© (ì™¸ë¶€ íŒ¨í‚¤ì§€ ë¶ˆí•„ìš”)

## ğŸ‘¨â€ğŸ’» ì‘ì„±ì

**chanbyeong** - [chanbyeong@holamago.com](mailto:chanbyeong@holamago.com)

---

## ğŸ” ë¬¸ì œ í•´ê²°

### ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ

**Q: "ê°€ìƒí™˜ê²½ì´ ì—†ìŠµë‹ˆë‹¤" ì˜¤ë¥˜ê°€ ë°œìƒí•´ìš”**
```bash
# í•´ê²°ë°©ë²•
python3 -m venv venv
source venv/bin/activate
```

**Q: ë³‘í•©ì´ ì œëŒ€ë¡œ ë˜ì§€ ì•Šì•„ìš”**
```bash
# ì„ê³„ê°’ì„ ëŠ˜ë ¤ë³´ì„¸ìš”
./run_merge.sh input.srt 2.0
```

**Q: í•œ ê¸€ì ìë§‰ì„ ìœ ì§€í•˜ê³  ì‹¶ì–´ìš”**
```bash
# ìˆ˜ë™ ì‹¤í–‰ìœ¼ë¡œ ì˜µì…˜ ì‚¬ìš©
python merge_srt.py input.srt output.srt --keep-single-char
```